"use strict";(()=>{var e={};e.id=924,e.ids=[924,888,660],e.modules={9674:(e,a,t)=>{t.r(a),t.d(a,{config:()=>k,default:()=>h,getServerSideProps:()=>y,getStaticPaths:()=>j,getStaticProps:()=>w,reportWebVitals:()=>v,routeModule:()=>A,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>E,unstable_getStaticParams:()=>C,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>z});var s={};t.r(s),t.d(s,{default:()=>EmbeddedChat,getStaticProps:()=>getStaticProps});var i=t(7093),r=t(5244),n=t(1323),o=t(1207),l=t(5913),c=t(997),d=t(9816),b=t.n(d),f=t(6689),x=t(968),m=t.n(x),p=t(2905);function ChatMessages({messages:e,isLoading:a,isStreaming:t}){return(0,c.jsxs)("div",{className:"jsx-af34b5b61947c464 chat-messages",children:[e.map((e,a)=>(0,c.jsxs)("div",{className:`jsx-af34b5b61947c464 message message-${e.role}`,children:[c.jsx("div",{className:"jsx-af34b5b61947c464 message-avatar",children:"user"===e.role?"\uD83D\uDC64":"\uD83E\uDD16"}),c.jsx("div",{className:"jsx-af34b5b61947c464 message-content",children:"assistant"===e.role?c.jsx("div",{dangerouslySetInnerHTML:{__html:e.content.replace(/```([\s\S]*?)```/g,"<pre><code>$1</code></pre>").replace(/`([^`]+)`/g,"<code>$1</code>").replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>").replace(/\*([^*]+)\*/g,"<em>$1</em>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank">$1</a>').replace(/\n/g,"<br>")},className:"jsx-af34b5b61947c464"}):c.jsx("p",{className:"jsx-af34b5b61947c464",children:e.content})})]},e.id||a)),a&&(0,c.jsxs)("div",{className:"jsx-af34b5b61947c464 message message-assistant",children:[c.jsx("div",{className:"jsx-af34b5b61947c464 message-avatar",children:"\uD83E\uDD16"}),c.jsx("div",{className:"jsx-af34b5b61947c464 message-content",children:(0,c.jsxs)("div",{className:"jsx-af34b5b61947c464 typing-indicator",children:[c.jsx("span",{className:"jsx-af34b5b61947c464"}),c.jsx("span",{className:"jsx-af34b5b61947c464"}),c.jsx("span",{className:"jsx-af34b5b61947c464"})]})})]}),c.jsx(b(),{id:"af34b5b61947c464",children:".chat-messages.jsx-af34b5b61947c464{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:1rem}.message.jsx-af34b5b61947c464{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:.75rem;max-width:100%}.message-avatar.jsx-af34b5b61947c464{width:32px;height:32px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background:rgba(255,255,255,.1);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;font-size:14px}.message-content.jsx-af34b5b61947c464{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;background:rgba(255,255,255,.05);padding:.75rem 1rem;-webkit-border-radius:1rem;-moz-border-radius:1rem;border-radius:1rem;border:1px solid rgba(255,255,255,.1)}.message-user.jsx-af34b5b61947c464 .message-content.jsx-af34b5b61947c464{background:rgba(255,255,255,.1);border-color:rgba(255,255,255,.2)}.message-content.jsx-af34b5b61947c464 p.jsx-af34b5b61947c464{margin:0;line-height:1.5}.message-content.jsx-af34b5b61947c464 pre{background:rgba(0,0,0,.3);padding:1rem;-webkit-border-radius:.5rem;-moz-border-radius:.5rem;border-radius:.5rem;overflow-x:auto;margin:.5rem 0}.message-content.jsx-af34b5b61947c464 code.inline-code{background:rgba(255,255,255,.1);padding:.2rem .4rem;-webkit-border-radius:.25rem;-moz-border-radius:.25rem;border-radius:.25rem;font-size:.9em}.message-content.jsx-af34b5b61947c464 .table-wrapper{overflow-x:auto;margin:.5rem 0}.message-content.jsx-af34b5b61947c464 table{width:100%;border-collapse:collapse;border:1px solid rgba(255,255,255,.2)}.message-content.jsx-af34b5b61947c464 th,.message-content.jsx-af34b5b61947c464 td{padding:.5rem;border:1px solid rgba(255,255,255,.1);text-align:left}.message-content.jsx-af34b5b61947c464 th{background:rgba(255,255,255,.1);font-weight:600}.typing-indicator.jsx-af34b5b61947c464{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:.25rem;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.typing-indicator.jsx-af34b5b61947c464 span.jsx-af34b5b61947c464{width:6px;height:6px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background:rgba(255,255,255,.6);-webkit-animation:typing 1.4s infinite ease-in-out;-moz-animation:typing 1.4s infinite ease-in-out;-o-animation:typing 1.4s infinite ease-in-out;animation:typing 1.4s infinite ease-in-out}.typing-indicator.jsx-af34b5b61947c464 span.jsx-af34b5b61947c464:nth-child(1){-webkit-animation-delay:-.32s;-moz-animation-delay:-.32s;-o-animation-delay:-.32s;animation-delay:-.32s}.typing-indicator.jsx-af34b5b61947c464 span.jsx-af34b5b61947c464:nth-child(2){-webkit-animation-delay:-.16s;-moz-animation-delay:-.16s;-o-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes typing{0%,80%,100%{-webkit-transform:scale(.8);transform:scale(.8);opacity:.5}40%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-moz-keyframes typing{0%,80%,100%{-moz-transform:scale(.8);transform:scale(.8);opacity:.5}40%{-moz-transform:scale(1);transform:scale(1);opacity:1}}@-o-keyframes typing{0%,80%,100%{-o-transform:scale(.8);transform:scale(.8);opacity:.5}40%{-o-transform:scale(1);transform:scale(1);opacity:1}}@keyframes typing{0%,80%,100%{-webkit-transform:scale(.8);-moz-transform:scale(.8);-o-transform:scale(.8);transform:scale(.8);opacity:.5}40%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);opacity:1}}"})]})}function ChatInput({value:e,onChange:a,onSend:t,disabled:s=!1,placeholder:i="Type your message..."}){let r=(0,f.useRef)(null);return(0,f.useEffect)(()=>{r.current&&(r.current.style.height="auto",r.current.style.height=`${Math.min(r.current.scrollHeight,120)}px`)},[e]),(0,c.jsxs)("div",{className:"jsx-69d43a8b99a383ae chat-input-container",children:[(0,c.jsxs)("div",{className:"jsx-69d43a8b99a383ae input-wrapper",children:[c.jsx("textarea",{ref:r,value:e,onChange:e=>a(e.target.value),onKeyDown:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),e.trim()&&!s&&t(e))},placeholder:i,disabled:s,rows:1,className:"jsx-69d43a8b99a383ae chat-textarea"}),c.jsx("button",{onClick:()=>{e.trim()&&!s&&t(e)},disabled:s||!e.trim(),"aria-label":"Send message",className:"jsx-69d43a8b99a383ae send-button",children:c.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",className:"jsx-69d43a8b99a383ae",children:c.jsx("path",{fill:"currentColor",d:"M2,21L23,12L2,3V10L17,12L2,14V21Z",className:"jsx-69d43a8b99a383ae"})})})]}),c.jsx(b(),{id:"69d43a8b99a383ae",children:".chat-input-container.jsx-69d43a8b99a383ae{padding:1rem;background:rgba(255,255,255,.02);border-top:1px solid rgba(255,255,255,.1)}.input-wrapper.jsx-69d43a8b99a383ae{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:.75rem;-webkit-box-align:end;-webkit-align-items:flex-end;-moz-box-align:end;-ms-flex-align:end;align-items:flex-end;max-width:100%}.chat-textarea.jsx-69d43a8b99a383ae{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;min-height:44px;max-height:120px;padding:.75rem;border:1px solid rgba(255,255,255,.2);-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;background:rgba(255,255,255,.05);color:#fff;font-family:inherit;font-size:14px;line-height:1.4;resize:none;outline:none;-webkit-transition:border-color.2s ease;-moz-transition:border-color.2s ease;-o-transition:border-color.2s ease;transition:border-color.2s ease}.chat-textarea.jsx-69d43a8b99a383ae:focus{border-color:rgba(255,255,255,.4)}.chat-textarea.jsx-69d43a8b99a383ae::-webkit-input-placeholder{color:rgba(255,255,255,.5)}.chat-textarea.jsx-69d43a8b99a383ae:-moz-placeholder{color:rgba(255,255,255,.5)}.chat-textarea.jsx-69d43a8b99a383ae::-moz-placeholder{color:rgba(255,255,255,.5)}.chat-textarea.jsx-69d43a8b99a383ae:-ms-input-placeholder{color:rgba(255,255,255,.5)}.chat-textarea.jsx-69d43a8b99a383ae::-ms-input-placeholder{color:rgba(255,255,255,.5)}.chat-textarea.jsx-69d43a8b99a383ae::placeholder{color:rgba(255,255,255,.5)}.chat-textarea.jsx-69d43a8b99a383ae:disabled{opacity:.6;cursor:not-allowed}.send-button.jsx-69d43a8b99a383ae{width:44px;height:44px;border:none;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;background:#007bff;color:white;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.send-button.jsx-69d43a8b99a383ae:hover:not(:disabled){background:#0056b3;-webkit-transform:translatey(-1px);-moz-transform:translatey(-1px);-ms-transform:translatey(-1px);-o-transform:translatey(-1px);transform:translatey(-1px)}.send-button.jsx-69d43a8b99a383ae:active:not(:disabled){-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}.send-button.jsx-69d43a8b99a383ae:disabled{opacity:.5;cursor:not-allowed;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}@media(max-width:768px){.chat-input-container.jsx-69d43a8b99a383ae{padding:.75rem}.input-wrapper.jsx-69d43a8b99a383ae{gap:.5rem}.send-button.jsx-69d43a8b99a383ae{width:40px;height:40px}}"})]})}function ChatHeader({title:e,isConnected:a,ragEnabled:t=!1,onClear:s,onClose:i}){return(0,c.jsxs)("div",{className:"jsx-46536b5033f3c648 chat-header",children:[(0,c.jsxs)("div",{className:"jsx-46536b5033f3c648 header-left",children:[c.jsx("h1",{className:"jsx-46536b5033f3c648 chat-title",children:e}),(0,c.jsxs)("div",{className:"jsx-46536b5033f3c648 status-indicators",children:[(0,c.jsxs)("div",{className:`jsx-46536b5033f3c648 status-indicator ${a?"connected":"disconnected"}`,children:[c.jsx("div",{className:"jsx-46536b5033f3c648 status-dot"}),c.jsx("span",{className:"jsx-46536b5033f3c648",children:a?"Connected":"Connecting..."})]}),t&&c.jsx("div",{className:"jsx-46536b5033f3c648 rag-indicator",children:c.jsx("span",{className:"jsx-46536b5033f3c648",children:"\uD83E\uDDE0 RAG"})})]})]}),(0,c.jsxs)("div",{className:"jsx-46536b5033f3c648 header-actions",children:[s&&c.jsx("button",{onClick:s,title:"Clear conversation","aria-label":"Clear conversation",className:"jsx-46536b5033f3c648 header-button",children:c.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",className:"jsx-46536b5033f3c648",children:c.jsx("path",{fill:"currentColor",d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",className:"jsx-46536b5033f3c648"})})}),i&&c.jsx("button",{onClick:i,title:"Close chat","aria-label":"Close chat",className:"jsx-46536b5033f3c648 header-button close-button",children:c.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",className:"jsx-46536b5033f3c648",children:c.jsx("path",{fill:"currentColor",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",className:"jsx-46536b5033f3c648"})})})]}),c.jsx(b(),{id:"46536b5033f3c648",children:".chat-header.jsx-46536b5033f3c648{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:1rem;background:rgba(255,255,255,.02);border-bottom:1px solid rgba(255,255,255,.1);min-height:60px}.header-left.jsx-46536b5033f3c648{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:.25rem;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.chat-title.jsx-46536b5033f3c648{margin:0;font-size:16px;font-weight:600;color:#fff;line-height:1.2}.status-indicators.jsx-46536b5033f3c648{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:.75rem;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.status-indicator.jsx-46536b5033f3c648{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:.5rem;font-size:12px;color:rgba(255,255,255,.7)}.status-dot.jsx-46536b5033f3c648{width:8px;height:8px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background:#fbbf24;-webkit-transition:background-color.3s ease;-moz-transition:background-color.3s ease;-o-transition:background-color.3s ease;transition:background-color.3s ease}.status-indicator.connected.jsx-46536b5033f3c648 .status-dot.jsx-46536b5033f3c648{background:#10b981}.status-indicator.disconnected.jsx-46536b5033f3c648 .status-dot.jsx-46536b5033f3c648{background:#ef4444;-webkit-animation:pulse 2s infinite;-moz-animation:pulse 2s infinite;-o-animation:pulse 2s infinite;animation:pulse 2s infinite}@-webkit-keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}@-moz-keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}@-o-keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}.rag-indicator.jsx-46536b5033f3c648{padding:.25rem .5rem;background:rgba(59,130,246,.2);border:1px solid rgba(59,130,246,.3);-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;font-size:11px;color:#93c5fd}.header-actions.jsx-46536b5033f3c648{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:.5rem;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.header-button.jsx-46536b5033f3c648{width:36px;height:36px;border:none;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;background:rgba(255,255,255,.1);color:rgba(255,255,255,.7);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.header-button.jsx-46536b5033f3c648:hover{background:rgba(255,255,255,.2);color:#fff;-webkit-transform:translatey(-1px);-moz-transform:translatey(-1px);-ms-transform:translatey(-1px);-o-transform:translatey(-1px);transform:translatey(-1px)}.header-button.jsx-46536b5033f3c648:active{-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}.close-button.jsx-46536b5033f3c648:hover{background:rgba(239,68,68,.2);color:#fca5a5}@media(max-width:768px){.chat-header.jsx-46536b5033f3c648{padding:.75rem}.chat-title.jsx-46536b5033f3c648{font-size:14px}.status-indicators.jsx-46536b5033f3c648{gap:.5rem}.header-button.jsx-46536b5033f3c648{width:32px;height:32px}}"})]})}function LoadingSpinner({size:e="medium",color:a="#ffffff"}){let t={small:16,medium:24,large:32}[e];return(0,c.jsxs)("div",{className:b().dynamic([["a22efa3f0c377fbc",[a,a,a]]])+" loading-spinner",children:[(0,c.jsxs)("div",{style:{width:t,height:t},className:b().dynamic([["a22efa3f0c377fbc",[a,a,a]]])+" spinner",children:[c.jsx("div",{className:b().dynamic([["a22efa3f0c377fbc",[a,a,a]]])+" spinner-ring"}),c.jsx("div",{className:b().dynamic([["a22efa3f0c377fbc",[a,a,a]]])+" spinner-ring"}),c.jsx("div",{className:b().dynamic([["a22efa3f0c377fbc",[a,a,a]]])+" spinner-ring"})]}),c.jsx(b(),{id:"a22efa3f0c377fbc",dynamic:[a,a,a],children:`.loading-spinner.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.spinner.__jsx-style-dynamic-selector{position:relative;display:inline-block}.spinner-ring.__jsx-style-dynamic-selector{position:absolute;top:0;left:0;width:100%;height:100%;border:2px solid transparent;border-top:2px solid ${a};-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-animation:spin 1s linear infinite;-moz-animation:spin 1s linear infinite;-o-animation:spin 1s linear infinite;animation:spin 1s linear infinite}.spinner-ring.__jsx-style-dynamic-selector:nth-child(2){border-top-color:${a}80;-webkit-animation-delay:.1s;-moz-animation-delay:.1s;-o-animation-delay:.1s;animation-delay:.1s}.spinner-ring.__jsx-style-dynamic-selector:nth-child(3){border-top-color:${a}40;-webkit-animation-delay:.2s;-moz-animation-delay:.2s;-o-animation-delay:.2s;animation-delay:.2s}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}`})]})}function ErrorMessage({message:e,onRetry:a,onDismiss:t}){return(0,c.jsxs)("div",{className:"jsx-7fd48c56a6ee8210 error-message",children:[(0,c.jsxs)("div",{className:"jsx-7fd48c56a6ee8210 error-content",children:[c.jsx("div",{className:"jsx-7fd48c56a6ee8210 error-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",className:"jsx-7fd48c56a6ee8210",children:c.jsx("path",{fill:"currentColor",d:"M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",className:"jsx-7fd48c56a6ee8210"})})}),c.jsx("div",{className:"jsx-7fd48c56a6ee8210 error-text",children:c.jsx("p",{className:"jsx-7fd48c56a6ee8210",children:e})})]}),(0,c.jsxs)("div",{className:"jsx-7fd48c56a6ee8210 error-actions",children:[a&&c.jsx("button",{onClick:a,className:"jsx-7fd48c56a6ee8210 error-button retry-button",children:"Retry"}),t&&c.jsx("button",{onClick:t,className:"jsx-7fd48c56a6ee8210 error-button dismiss-button",children:"Dismiss"})]}),c.jsx(b(),{id:"7fd48c56a6ee8210",children:".error-message.jsx-7fd48c56a6ee8210{background:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.2);-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:1rem;margin:.5rem 0}.error-content.jsx-7fd48c56a6ee8210{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:.75rem;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;margin-bottom:.75rem}.error-icon.jsx-7fd48c56a6ee8210{color:#fca5a5;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-top:.1rem}.error-text.jsx-7fd48c56a6ee8210{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.error-text.jsx-7fd48c56a6ee8210 p.jsx-7fd48c56a6ee8210{margin:0;color:#fca5a5;font-size:14px;line-height:1.4}.error-actions.jsx-7fd48c56a6ee8210{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:.5rem;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.error-button.jsx-7fd48c56a6ee8210{padding:.5rem 1rem;border:none;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:12px;font-weight:500;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.retry-button.jsx-7fd48c56a6ee8210{background:#ef4444;color:white}.retry-button.jsx-7fd48c56a6ee8210:hover{background:#dc2626}.dismiss-button.jsx-7fd48c56a6ee8210{background:rgba(255,255,255,.1);color:rgba(255,255,255,.7)}.dismiss-button.jsx-7fd48c56a6ee8210:hover{background:rgba(255,255,255,.2);color:white}"})]})}var g=t(2047);let u=(0,g.Gt)(function(){let e=function(){let e=function(){let[e,a]=(0,f.useState)({api:null,config:null,isEmbedded:!1,isReady:!1,isConnected:!1,error:null}),t=(0,f.useRef)(new Map),s=(0,f.useRef)(null);(0,f.useEffect)(()=>{let e="true"===new URLSearchParams(window.location.search).get("embedded");if(a(a=>({...a,isEmbedded:e})),e){let e=new URLSearchParams(window.location.search),t={apiUrl:getApiUrl(),tenantId:e.get("tenant")||"default",sessionId:e.get("session")||"default",useRAG:"true"===e.get("rag"),ragTopK:parseInt(e.get("rag_top_k")||"4"),title:e.get("title")||"AI Assistant",debug:"true"===e.get("debug")},s=new p.OY(t);a(e=>({...e,api:s,config:t,isReady:!0}))}},[]),(0,f.useEffect)(()=>{if(!e.isEmbedded)return;let handleMessage=e=>{s.current||e.origin===window.location.origin||(s.current=e.origin);let{type:a,data:d}=e.data;switch(a){case"INIT_CONFIG":i(d);break;case"UPDATE_CONFIG":r(d);break;case"SEND_MESSAGE":n(d);break;case"FOCUS_REQUEST":o();break;case"PAGE_VISIBLE":l();break;case"WINDOW_RESIZE":c(d);break;default:let b=t.current.get(a);b&&b(d)}};return window.addEventListener("message",handleMessage),e.isEmbedded&&window.parent.postMessage({type:"IFRAME_READY"},"*"),()=>{window.removeEventListener("message",handleMessage)}},[e.isEmbedded]),(0,f.useEffect)(()=>{e.api&&!e.isConnected&&x()},[e.api]);let i=(0,f.useCallback)(e=>{let t={apiUrl:getApiUrl(),tenantId:e.tenantId||"default",sessionId:e.sessionId||"default",useRAG:e.useRAG||!1,ragTopK:e.ragTopK||4,title:e.title||"AI Assistant",debug:e.debug||!1},s=new p.OY(t);a(e=>({...e,api:s,config:t,isReady:!0,error:null})),console.log("[WebAI Hook] Initialized with config:",t)},[]),r=(0,f.useCallback)(t=>{if(e.api&&e.config){let s={...e.config,...t};e.api.updateConfig(s),a(e=>({...e,config:s})),console.log("[WebAI Hook] Config updated:",t)}},[e.api,e.config]),n=(0,f.useCallback)(e=>{console.log("[WebAI Hook] Send message requested:",e.message);let a=new CustomEvent("webai-send-message",{detail:e});window.dispatchEvent(a)},[]),o=(0,f.useCallback)(()=>{let e=document.querySelector('textarea, input[type="text"]');e&&e.focus()},[]),l=(0,f.useCallback)(()=>{console.log("[WebAI Hook] Page became visible")},[]),c=(0,f.useCallback)(e=>{console.log("[WebAI Hook] Parent window resized:",e);let a=new CustomEvent("webai-window-resize",{detail:e});window.dispatchEvent(a)},[]),d=(0,f.useCallback)((a,t)=>{e.isEmbedded&&s.current?(window.parent.postMessage({type:a,data:t},s.current),console.log("[WebAI Hook] Sent to parent:",a,t)):e.isEmbedded&&(window.parent.postMessage({type:a,data:t},"*"),console.log("[WebAI Hook] Sent to parent (any origin):",a,t))},[e.isEmbedded]),b=(0,f.useCallback)(t=>{if(e.api&&e.config){let s={...e.config,...t};e.api.updateConfig(s),a(e=>({...e,config:s}))}},[e.api,e.config]),x=(0,f.useCallback)(async()=>{if(!e.api)return!1;try{let t=await e.api.testConnection();return a(e=>({...e,isConnected:t,error:t?null:"Connection failed"})),t}catch(t){let e=t instanceof Error?t.message:"Connection test failed";return a(a=>({...a,isConnected:!1,error:e})),!1}},[e.api]),m=(0,f.useCallback)(e=>{n({message:e})},[n]),g=(0,f.useCallback)(async()=>{if(e.api)try{await e.api.clearConversationHistory(),console.log("[WebAI Hook] Conversation cleared")}catch(e){console.error("[WebAI Hook] Failed to clear conversation:",e)}},[e.api]),getApiUrl=()=>"https://web3ai-backend-v34-api-180395924844.us-central1.run.app",u=(0,f.useCallback)((e,a)=>{t.current.set(e,a)},[]),h=(0,f.useCallback)(e=>{t.current.delete(e)},[]);return{...e,updateConfig:b,testConnection:x,sendMessage:m,clearConversation:g,sendToParent:d,addMessageHandler:u,removeMessageHandler:h}}(),[a,t]=(0,f.useState)(!1),s=(0,f.useCallback)(async function*(a){if(!e.api)throw Error("WebAI API not available");t(!0);try{for await(let t of e.api.chat(a))if(yield t,t.finished)break}finally{t(!1)}},[e.api]),i=(0,f.useCallback)(()=>{e.api&&(e.api.cancel(),t(!1))},[e.api]);return{...e,isStreaming:a,streamChat:s,cancelStream:i}}(),{addListener:a}=function(){let e=(0,f.useCallback)((e,a)=>(window.addEventListener(e,a),()=>window.removeEventListener(e,a)),[]);return{addListener:e}}(),[t,s]=(0,f.useState)([]),[i,r]=(0,f.useState)(""),[n,o]=(0,f.useState)(!1),[l,d]=(0,f.useState)(null),[x,g]=(0,f.useState)("AI Assistant"),u=(0,f.useRef)(null),h=(0,f.useRef)(null),w=(0,f.useCallback)(()=>{u.current?.scrollIntoView({behavior:"smooth"})},[]);(0,f.useEffect)(()=>{w()},[t,w]),(0,f.useEffect)(()=>{let e=a("webai-window-resize",e=>{let{isMobile:a}=e.detail;h.current&&(h.current.className=a?"chat-container mobile":"chat-container desktop")});return e},[a]),(0,f.useEffect)(()=>{let e=a("webai-send-message",e=>{let{message:a}=e.detail;a&&"string"==typeof a&&handleSendMessage(a)});return e},[a]),(0,f.useEffect)(()=>{e.config?.title&&g(e.config.title)},[e.config]),(0,f.useEffect)(()=>{e.isReady&&e.api&&0===t.length&&loadConversationHistory()},[e.isReady,e.api]);let loadConversationHistory=async()=>{if(e.api)try{let a=await e.api.getConversationHistory();a.length>0&&s(a)}catch(e){console.warn("Failed to load conversation history:",e)}},handleSendMessage=async a=>{if(!a.trim()||!e.api||e.isStreaming)return;let i={role:"user",content:a.trim(),id:`user-${Date.now()}`,timestamp:Date.now()};s(e=>[...e,i]),r(""),d(null),o(!0);let n={role:"assistant",content:"",id:`assistant-${Date.now()}`,timestamp:Date.now()};s(e=>[...e,n]);try{let a=[...t,i];for await(let t of e.streamChat(a)){if(t.error)throw Error(t.error);if(t.delta&&t.content&&s(e=>e.map(e=>e.id===n.id?{...e,content:e.content+t.content}:e)),t.finished)break}}catch(e){d(e instanceof Error?e.message:"An error occurred"),s(e=>e.filter(e=>e.id!==n.id))}finally{o(!1)}},handleClearConversation=async()=>{try{e.api&&await e.clearConversation(),s([]),d(null),e.sendToParent("CONVERSATION_CLEARED")}catch(e){d("Failed to clear conversation")}};return e.isReady?e.error&&!e.isConnected?(0,c.jsxs)("div",{className:"embedded-chat error",children:[c.jsx(m(),{children:(0,c.jsxs)("title",{children:["Error - ",x]})}),c.jsx("div",{className:"error-container",children:c.jsx(ErrorMessage,{message:e.error,onRetry:()=>e.testConnection()})})]}):(0,c.jsxs)("div",{ref:h,className:"jsx-4f2600eec5317548 embedded-chat",children:[(0,c.jsxs)(m(),{children:[c.jsx("title",{className:"jsx-4f2600eec5317548",children:x}),c.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1",className:"jsx-4f2600eec5317548"}),c.jsx("meta",{name:"description",content:"AI Chat Assistant powered by WebAI",className:"jsx-4f2600eec5317548"})]}),c.jsx(ChatHeader,{title:x,isConnected:e.isConnected,ragEnabled:e.config?.useRAG||!1,onClear:handleClearConversation,onClose:()=>e.sendToParent("CLOSE_WIDGET")}),(0,c.jsxs)("div",{className:"jsx-4f2600eec5317548 chat-body",children:[c.jsx(ChatMessages,{messages:t,isLoading:n,isStreaming:e.isStreaming}),c.jsx("div",{ref:u,className:"jsx-4f2600eec5317548"})]}),l&&c.jsx(ErrorMessage,{message:l,onRetry:()=>{i.trim()&&handleSendMessage(i)},onDismiss:()=>d(null)}),c.jsx(ChatInput,{value:i,onChange:r,onSend:handleSendMessage,disabled:e.isStreaming||!e.isConnected,placeholder:e.isConnected?"Type your message...":"Connecting..."}),c.jsx(b(),{id:"4f2600eec5317548",children:'.embedded-chat.jsx-4f2600eec5317548{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100vh;background:#000;color:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;overflow:hidden}.embedded-chat.loading.jsx-4f2600eec5317548,.embedded-chat.error.jsx-4f2600eec5317548{-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.loading-container.jsx-4f2600eec5317548,.error-container.jsx-4f2600eec5317548{text-align:center;padding:2rem}.loading-container.jsx-4f2600eec5317548 p.jsx-4f2600eec5317548{margin-top:1rem;color:rgba(255,255,255,.7)}.chat-body.jsx-4f2600eec5317548{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;overflow-y:auto;padding:1rem;scroll-behavior:smooth}.chat-body.jsx-4f2600eec5317548::-webkit-scrollbar{width:6px}.chat-body.jsx-4f2600eec5317548::-webkit-scrollbar-track{background:rgba(255,255,255,.02)}.chat-body.jsx-4f2600eec5317548::-webkit-scrollbar-thumb{background:rgba(255,255,255,.1);-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.chat-body.jsx-4f2600eec5317548::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,.15)}.chat-container.mobile.jsx-4f2600eec5317548 .chat-body.jsx-4f2600eec5317548{padding:.5rem}@media(max-width:768px){.embedded-chat.jsx-4f2600eec5317548{font-size:14px}.chat-body.jsx-4f2600eec5317548{padding:.5rem}}'})]}):(0,c.jsxs)("div",{className:"embedded-chat loading",children:[(0,c.jsxs)(m(),{children:[c.jsx("title",{children:x}),c.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,c.jsxs)("div",{className:"loading-container",children:[c.jsx(LoadingSpinner,{}),c.jsx("p",{children:"Initializing chat..."})]})]})},{showPaywall:!0,blockedComponent:(0,c.jsxs)("div",{className:"jsx-f1a1a35eff056d56 subscription-required-chat",children:[(0,c.jsxs)(m(),{children:[c.jsx("title",{className:"jsx-f1a1a35eff056d56",children:"Subscription Required - WebAI Chat"}),c.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1",className:"jsx-f1a1a35eff056d56"})]}),c.jsx("div",{className:"jsx-f1a1a35eff056d56 chat-paywall",children:(0,c.jsxs)("div",{className:"jsx-f1a1a35eff056d56 paywall-content",children:[c.jsx("div",{className:"jsx-f1a1a35eff056d56 paywall-icon",children:"\uD83D\uDCAC"}),c.jsx("h2",{className:"jsx-f1a1a35eff056d56",children:"Chat Access - Premium Feature"}),c.jsx("p",{className:"jsx-f1a1a35eff056d56",children:"Unlimited chat conversations with your AI assistant require an active subscription. Subscribe for just $2/month to unlock full chat functionality."}),(0,c.jsxs)("div",{className:"jsx-f1a1a35eff056d56 paywall-features",children:[(0,c.jsxs)("div",{className:"jsx-f1a1a35eff056d56 feature-item",children:[c.jsx("span",{className:"jsx-f1a1a35eff056d56 feature-icon",children:"✅"}),c.jsx("span",{className:"jsx-f1a1a35eff056d56",children:"Unlimited conversations"})]}),(0,c.jsxs)("div",{className:"jsx-f1a1a35eff056d56 feature-item",children:[c.jsx("span",{className:"jsx-f1a1a35eff056d56 feature-icon",children:"✅"}),c.jsx("span",{className:"jsx-f1a1a35eff056d56",children:"Document processing & RAG"})]}),(0,c.jsxs)("div",{className:"jsx-f1a1a35eff056d56 feature-item",children:[c.jsx("span",{className:"jsx-f1a1a35eff056d56 feature-icon",children:"✅"}),c.jsx("span",{className:"jsx-f1a1a35eff056d56",children:"Setup workflow access"})]}),(0,c.jsxs)("div",{className:"jsx-f1a1a35eff056d56 feature-item",children:[c.jsx("span",{className:"jsx-f1a1a35eff056d56 feature-icon",children:"✅"}),c.jsx("span",{className:"jsx-f1a1a35eff056d56",children:"Priority support"})]})]}),c.jsx("button",{onClick:()=>{window.parent&&window.parent!==window?window.parent.postMessage({type:"NAVIGATE_TO_SUBSCRIBE"},"*"):window.location.href="/"},className:"jsx-f1a1a35eff056d56 subscribe-button",children:"Subscribe Now ($2/month)"}),c.jsx("p",{className:"jsx-f1a1a35eff056d56 paywall-note",children:"Already subscribed? Please refresh this page."})]})}),c.jsx(b(),{id:"f1a1a35eff056d56",children:'.subscription-required-chat.jsx-f1a1a35eff056d56{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100vh;background:#000;color:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif}.chat-paywall.jsx-f1a1a35eff056d56{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:2rem}.paywall-content.jsx-f1a1a35eff056d56{max-width:400px;text-align:center}.paywall-icon.jsx-f1a1a35eff056d56{font-size:4rem;margin-bottom:1.5rem;opacity:.8}.paywall-content.jsx-f1a1a35eff056d56 h2.jsx-f1a1a35eff056d56{margin:0 0 1rem 0;font-size:1.75rem;font-weight:600;color:#fff}.paywall-content.jsx-f1a1a35eff056d56 p.jsx-f1a1a35eff056d56{color:rgba(255,255,255,.8);margin:0 0 2rem 0;line-height:1.6}.paywall-features.jsx-f1a1a35eff056d56{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:1rem;margin:2rem 0;text-align:left}.feature-item.jsx-f1a1a35eff056d56{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:.75rem;color:rgba(255,255,255,.9)}.feature-icon.jsx-f1a1a35eff056d56{font-size:1rem;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.subscribe-button.jsx-f1a1a35eff056d56{background:#007bff;color:#fff;border:none;padding:1rem 2rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-weight:600;font-size:1rem;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;width:100%;margin-bottom:1rem}.subscribe-button.jsx-f1a1a35eff056d56:hover{background:#0056b3;-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px);-webkit-box-shadow:0 4px 12px rgba(0,123,255,.3);-moz-box-shadow:0 4px 12px rgba(0,123,255,.3);box-shadow:0 4px 12px rgba(0,123,255,.3)}.paywall-note.jsx-f1a1a35eff056d56{font-size:.875rem;color:rgba(255,255,255,.6);margin:0}@media(max-width:768px){.chat-paywall.jsx-f1a1a35eff056d56{padding:1rem}.paywall-content.jsx-f1a1a35eff056d56{max-width:100%}.paywall-content.jsx-f1a1a35eff056d56 h2.jsx-f1a1a35eff056d56{font-size:1.5rem}.paywall-features.jsx-f1a1a35eff056d56{text-align:center}}'})]})});function EmbeddedChat(){return c.jsx(g.a9,{autoCheckSubscription:!0,debugMode:!1,children:c.jsx(u,{})})}let getStaticProps=async()=>({props:{}}),h=(0,n.l)(s,"default"),w=(0,n.l)(s,"getStaticProps"),j=(0,n.l)(s,"getStaticPaths"),y=(0,n.l)(s,"getServerSideProps"),k=(0,n.l)(s,"config"),v=(0,n.l)(s,"reportWebVitals"),z=(0,n.l)(s,"unstable_getStaticProps"),N=(0,n.l)(s,"unstable_getStaticPaths"),C=(0,n.l)(s,"unstable_getStaticParams"),S=(0,n.l)(s,"unstable_getServerProps"),E=(0,n.l)(s,"unstable_getServerSideProps"),A=new i.PagesRouteModule({definition:{kind:r.x.PAGES,page:"/embedded/chat",pathname:"/embedded/chat",bundlePath:"",filename:""},components:{App:l.default,Document:o.default},userland:s})},943:e=>{e.exports=require("@stripe/stripe-js")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},9816:e=>{e.exports=require("styled-jsx/style")},1017:e=>{e.exports=require("path")}};var a=require("../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[859,450,207,913,47,905],()=>__webpack_exec__(9674));module.exports=t})();